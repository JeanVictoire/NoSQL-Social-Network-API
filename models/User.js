const{Schema:Schema,model:model}=require("mongoose"),userSchema=new Schema({username:{type:String,required:!0,trimmed:!0,unique:!0},email:{type:String,required:!0,unique:!0,match:[/.+\@.+\..+/,"Must be a valid Email Addres!"]},thoughts:[{type:Schema.Types.ObjectId,ref:"thought"}],friends:[{type:Schema.Types.ObjectId,ref:"user"}]},{toJSON:{getters:!0}});userSchema.virtual("friendCount").get((function(){return this.friends.length}));const User=model("user",userSchema);module.exports=User;